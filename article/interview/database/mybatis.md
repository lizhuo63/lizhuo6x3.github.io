# Mybatis

### 为什么需要预编译

SQL预编译指的是数据库驱动在发送 SQL 语句和参数给 DBMS 之前会对 SQL 语句进行编 译，这样 DBMS 执行 SQL 时，就不需要重新编译。JDBC 中使用对象 PreparedStatement 来抽象预编译语句。

1. 预编译可以优化SQL的执行。同一个SQL的PreparedStatement可以重复执行。
2. 预编译可以合并多次操作为一个操作。减少了传输IO。

### Mybatis延迟加载的原理

### {}和${}的区别

#{}是占位符，预编译处理；${}是拼接符，字符串替换，没有预编译处理。

Mybatis在处理#{}时，#{}传入参数是以字符串传入，会将SQL中的#{}替换为?号，调用 PreparedStatement的set方法来赋值。

### 模糊查询like语句该怎么写

1. ’%${question}%’ 可能引起SQL注入，不推荐
2. "%"#{question}"%" 注意：因为#{…}解析成sql语句时候，会在变量外侧自动加单引 号’ '，所以这里 % 需要使用双引号" "，不能使用单引号 ’ '，不然会查不到任何结果。
3. CONCAT(’%’,#{question},’%’) 使用CONCAT()函数，**推荐**